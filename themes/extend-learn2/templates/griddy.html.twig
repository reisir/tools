{% extends 'default.html.twig' %}

{# Add template specific stylesheet #}
{% block stylesheets %}
  {% if page.home() %}
    {% do assets.addCss('theme://css/griddy.css',99) %}
  {% endif %}
  {{ parent() }}
{% endblock %}

{# Get content without the summary #}
{% set content = page.content|slice(page.summary|length) %}

{% block content %}
  <div id="summary">
    <h1>{{ page.title }}</h1>
    {{ page.summary|raw }}
  </div>
  <div id="pre-griddy">
  {{ content|raw }}
  </div>
  <div class="griddy">
    {% for item in page.collection %}
        <a href="{{ item.url }}">
            {{ item.media.images|first|raw }}
            <h3 class="griddy-item-title">{{ item.title }}</h3>
            <p class="griddy-item-summary">{{ item.summary|raw }}</p>
        </a>
    {% endfor %}
  </div>
{% endblock %}